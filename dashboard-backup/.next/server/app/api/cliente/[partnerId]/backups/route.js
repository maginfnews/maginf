"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/cliente/[partnerId]/backups/route";
exports.ids = ["app/api/cliente/[partnerId]/backups/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&page=%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute.ts&appDir=C%3A%5Capp-maginf%5Cdashboard-backup%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Capp-maginf%5Cdashboard-backup&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&page=%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute.ts&appDir=C%3A%5Capp-maginf%5Cdashboard-backup%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Capp-maginf%5Cdashboard-backup&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_app_maginf_dashboard_backup_app_api_cliente_partnerId_backups_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/cliente/[partnerId]/backups/route.ts */ \"(rsc)/./app/api/cliente/[partnerId]/backups/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/cliente/[partnerId]/backups/route\",\n        pathname: \"/api/cliente/[partnerId]/backups\",\n        filename: \"route\",\n        bundlePath: \"app/api/cliente/[partnerId]/backups/route\"\n    },\n    resolvedPagePath: \"C:\\\\app-maginf\\\\dashboard-backup\\\\app\\\\api\\\\cliente\\\\[partnerId]\\\\backups\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_app_maginf_dashboard_backup_app_api_cliente_partnerId_backups_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/cliente/[partnerId]/backups/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjbGllbnRlJTJGJTVCcGFydG5lcklkJTVEJTJGYmFja3VwcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2xpZW50ZSUyRiU1QnBhcnRuZXJJZCU1RCUyRmJhY2t1cHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjbGllbnRlJTJGJTVCcGFydG5lcklkJTVEJTJGYmFja3VwcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDYXBwLW1hZ2luZiU1Q2Rhc2hib2FyZC1iYWNrdXAlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNhcHAtbWFnaW5mJTVDZGFzaGJvYXJkLWJhY2t1cCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUM7QUFDaEg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmQtYmFja3VwLW1hZ2luZi8/Y2Q4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxhcHAtbWFnaW5mXFxcXGRhc2hib2FyZC1iYWNrdXBcXFxcYXBwXFxcXGFwaVxcXFxjbGllbnRlXFxcXFtwYXJ0bmVySWRdXFxcXGJhY2t1cHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NsaWVudGUvW3BhcnRuZXJJZF0vYmFja3Vwcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NsaWVudGUvW3BhcnRuZXJJZF0vYmFja3Vwc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2xpZW50ZS9bcGFydG5lcklkXS9iYWNrdXBzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcYXBwLW1hZ2luZlxcXFxkYXNoYm9hcmQtYmFja3VwXFxcXGFwcFxcXFxhcGlcXFxcY2xpZW50ZVxcXFxbcGFydG5lcklkXVxcXFxiYWNrdXBzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9jbGllbnRlL1twYXJ0bmVySWRdL2JhY2t1cHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&page=%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute.ts&appDir=C%3A%5Capp-maginf%5Cdashboard-backup%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Capp-maginf%5Cdashboard-backup&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/cliente/[partnerId]/backups/route.ts":
/*!******************************************************!*\
  !*** ./app/api/cliente/[partnerId]/backups/route.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_providers_cove__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/providers/cove */ \"(rsc)/./lib/providers/cove.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./lib/utils.ts\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\n\n\n// Rate limiting simples (em produção, usar Redis)\nconst rateLimitMap = new Map();\nconst RATE_LIMIT = 60; // requests por minuto\nconst RATE_WINDOW = 60 * 1000; // 1 minuto\nfunction checkRateLimit(ip) {\n    const now = Date.now();\n    const record = rateLimitMap.get(ip);\n    if (!record || now > record.resetTime) {\n        rateLimitMap.set(ip, {\n            count: 1,\n            resetTime: now + RATE_WINDOW\n        });\n        return true;\n    }\n    if (record.count >= RATE_LIMIT) {\n        return false;\n    }\n    record.count++;\n    return true;\n}\nasync function GET(request, { params }) {\n    try {\n        // Rate limiting\n        const headersList = (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.headers)();\n        const ip = headersList.get(\"x-forwarded-for\") || headersList.get(\"x-real-ip\") || \"unknown\";\n        if (!checkRateLimit(ip)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Rate limit exceeded\"\n            }, {\n                status: 429\n            });\n        }\n        // Sanitizar e validar parâmetros\n        const partnerId = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.sanitizeString)(params.partnerId);\n        if (!partnerId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Partner ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const q = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.sanitizeString)(searchParams.get(\"q\") || undefined);\n        const status = searchParams.get(\"status\");\n        const page = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.sanitizeNumber)(searchParams.get(\"page\") || \"1\");\n        const pageSize = Math.min((0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.sanitizeNumber)(searchParams.get(\"pageSize\") || \"50\"), 200 // Máximo 200 por página\n        );\n        // Validar status se fornecido\n        const validStatuses = [\n            \"Success\",\n            \"Failed\",\n            \"CompletedWithErrors\",\n            \"InProgress\",\n            \"NeverRun\",\n            \"Unknown\"\n        ];\n        if (status && !validStatuses.includes(status)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid status parameter\"\n            }, {\n                status: 400\n            });\n        }\n        // Executar chamada apenas para o Cove Provider (N-able)\n        try {\n            const coveProvider = new _lib_providers_cove__WEBPACK_IMPORTED_MODULE_1__.CoveProvider();\n            const result = await coveProvider.listStatus({\n                partnerId,\n                q,\n                status: status || undefined,\n                page,\n                pageSize\n            });\n            const allItems = result.items;\n            const totalCount = result.total;\n            // Calcular KPIs\n            const kpis = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.calculateKPIs)(allItems);\n            // Ordenar por nome do dispositivo\n            allItems.sort((a, b)=>a.deviceName.localeCompare(b.deviceName));\n            // Paginação final (se necessário)\n            const startIndex = (page - 1) * pageSize;\n            const paginatedItems = allItems.slice(startIndex, startIndex + pageSize);\n            const response = {\n                items: paginatedItems,\n                meta: {\n                    total: totalCount,\n                    page,\n                    pageSize,\n                    lastSyncAt: new Date().toISOString()\n                },\n                kpis\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n        } catch (coveError) {\n            console.error(\"Cove Provider error:\", coveError);\n            // Retornar resposta vazia em caso de erro\n            const emptyResponse = {\n                items: [],\n                meta: {\n                    total: 0,\n                    page,\n                    pageSize,\n                    lastSyncAt: new Date().toISOString()\n                },\n                kpis: {\n                    total: 0,\n                    success: 0,\n                    warnings: 0,\n                    failed: 0,\n                    inProgress: 0,\n                    neverRun: 0\n                }\n            };\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(emptyResponse);\n        }\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error\",\n            message:  true ? error.message : 0\n        }, {\n            status: 500\n        });\n    }\n}\n// Método OPTIONS para CORS (se necessário)\nasync function OPTIONS() {\n    return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(null, {\n        status: 200,\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Methods\": \"GET, OPTIONS\",\n            \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\"\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NsaWVudGUvW3BhcnRuZXJJZF0vYmFja3Vwcy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBd0Q7QUFDSjtBQUV3QjtBQUNyQztBQUV2QyxrREFBa0Q7QUFDbEQsTUFBTU0sZUFBZSxJQUFJQztBQUN6QixNQUFNQyxhQUFhLElBQUksc0JBQXNCO0FBQzdDLE1BQU1DLGNBQWMsS0FBSyxNQUFNLFdBQVc7QUFFMUMsU0FBU0MsZUFBZUMsRUFBVTtJQUNoQyxNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBQ3BCLE1BQU1FLFNBQVNSLGFBQWFTLEdBQUcsQ0FBQ0o7SUFFaEMsSUFBSSxDQUFDRyxVQUFVRixNQUFNRSxPQUFPRSxTQUFTLEVBQUU7UUFDckNWLGFBQWFXLEdBQUcsQ0FBQ04sSUFBSTtZQUFFTyxPQUFPO1lBQUdGLFdBQVdKLE1BQU1IO1FBQVk7UUFDOUQsT0FBTztJQUNUO0lBRUEsSUFBSUssT0FBT0ksS0FBSyxJQUFJVixZQUFZO1FBQzlCLE9BQU87SUFDVDtJQUVBTSxPQUFPSSxLQUFLO0lBQ1osT0FBTztBQUNUO0FBRU8sZUFBZUMsSUFDcEJDLE9BQW9CLEVBQ3BCLEVBQUVDLE1BQU0sRUFBcUM7SUFFN0MsSUFBSTtRQUNGLGdCQUFnQjtRQUNoQixNQUFNQyxjQUFjakIscURBQU9BO1FBQzNCLE1BQU1NLEtBQUtXLFlBQVlQLEdBQUcsQ0FBQyxzQkFDaEJPLFlBQVlQLEdBQUcsQ0FBQyxnQkFDaEI7UUFFWCxJQUFJLENBQUNMLGVBQWVDLEtBQUs7WUFDdkIsT0FBT1gscURBQVlBLENBQUN1QixJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQXNCLEdBQy9CO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxpQ0FBaUM7UUFDakMsTUFBTUMsWUFBWXZCLDBEQUFjQSxDQUFDa0IsT0FBT0ssU0FBUztRQUNqRCxJQUFJLENBQUNBLFdBQVc7WUFDZCxPQUFPMUIscURBQVlBLENBQUN1QixJQUFJLENBQ3RCO2dCQUFF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Oi8vZGFzaGJvYXJkLWJhY2t1cC1tYWdpbmYvLi9hcHAvYXBpL2NsaWVudGUvW3BhcnRuZXJJZF0vYmFja3Vwcy9yb3V0ZS50cz84MzdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IENvdmVQcm92aWRlciB9IGZyb20gXCJAL2xpYi9wcm92aWRlcnMvY292ZVwiO1xuaW1wb3J0IHsgQmFja3VwUmVzcG9uc2UsIEJhY2t1cFN0YXR1cyB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xuaW1wb3J0IHsgY2FsY3VsYXRlS1BJcywgc2FuaXRpemVTdHJpbmcsIHNhbml0aXplTnVtYmVyIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XG5pbXBvcnQgeyBoZWFkZXJzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcblxuLy8gUmF0ZSBsaW1pdGluZyBzaW1wbGVzIChlbSBwcm9kdcOnw6NvLCB1c2FyIFJlZGlzKVxuY29uc3QgcmF0ZUxpbWl0TWFwID0gbmV3IE1hcDxzdHJpbmcsIHsgY291bnQ6IG51bWJlcjsgcmVzZXRUaW1lOiBudW1iZXIgfT4oKTtcbmNvbnN0IFJBVEVfTElNSVQgPSA2MDsgLy8gcmVxdWVzdHMgcG9yIG1pbnV0b1xuY29uc3QgUkFURV9XSU5ET1cgPSA2MCAqIDEwMDA7IC8vIDEgbWludXRvXG5cbmZ1bmN0aW9uIGNoZWNrUmF0ZUxpbWl0KGlwOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgcmVjb3JkID0gcmF0ZUxpbWl0TWFwLmdldChpcCk7XG4gIFxuICBpZiAoIXJlY29yZCB8fCBub3cgPiByZWNvcmQucmVzZXRUaW1lKSB7XG4gICAgcmF0ZUxpbWl0TWFwLnNldChpcCwgeyBjb3VudDogMSwgcmVzZXRUaW1lOiBub3cgKyBSQVRFX1dJTkRPVyB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgaWYgKHJlY29yZC5jb3VudCA+PSBSQVRFX0xJTUlUKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICByZWNvcmQuY291bnQrKztcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBwYXJ0bmVySWQ6IHN0cmluZyB9IH1cbikge1xuICB0cnkge1xuICAgIC8vIFJhdGUgbGltaXRpbmdcbiAgICBjb25zdCBoZWFkZXJzTGlzdCA9IGhlYWRlcnMoKTtcbiAgICBjb25zdCBpcCA9IGhlYWRlcnNMaXN0LmdldCgneC1mb3J3YXJkZWQtZm9yJykgfHwgXG4gICAgICAgICAgICAgICBoZWFkZXJzTGlzdC5nZXQoJ3gtcmVhbC1pcCcpIHx8IFxuICAgICAgICAgICAgICAgJ3Vua25vd24nO1xuICAgIFxuICAgIGlmICghY2hlY2tSYXRlTGltaXQoaXApKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdSYXRlIGxpbWl0IGV4Y2VlZGVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDI5IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU2FuaXRpemFyIGUgdmFsaWRhciBwYXLDom1ldHJvc1xuICAgIGNvbnN0IHBhcnRuZXJJZCA9IHNhbml0aXplU3RyaW5nKHBhcmFtcy5wYXJ0bmVySWQpO1xuICAgIGlmICghcGFydG5lcklkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdQYXJ0bmVyIElEIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIFxuICAgIGNvbnN0IHEgPSBzYW5pdGl6ZVN0cmluZyhzZWFyY2hQYXJhbXMuZ2V0KFwicVwiKSB8fCB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHN0YXR1cyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0dXNcIikgYXMgQmFja3VwU3RhdHVzIHwgbnVsbDtcbiAgICBjb25zdCBwYWdlID0gc2FuaXRpemVOdW1iZXIoc2VhcmNoUGFyYW1zLmdldChcInBhZ2VcIikgfHwgXCIxXCIpO1xuICAgIGNvbnN0IHBhZ2VTaXplID0gTWF0aC5taW4oXG4gICAgICBzYW5pdGl6ZU51bWJlcihzZWFyY2hQYXJhbXMuZ2V0KFwicGFnZVNpemVcIikgfHwgXCI1MFwiKSwgXG4gICAgICAyMDAgLy8gTcOheGltbyAyMDAgcG9yIHDDoWdpbmFcbiAgICApO1xuXG4gICAgLy8gVmFsaWRhciBzdGF0dXMgc2UgZm9ybmVjaWRvXG4gICAgY29uc3QgdmFsaWRTdGF0dXNlczogQmFja3VwU3RhdHVzW10gPSBbXG4gICAgICBcIlN1Y2Nlc3NcIiwgXCJGYWlsZWRcIiwgXCJDb21wbGV0ZWRXaXRoRXJyb3JzXCIsIFxuICAgICAgXCJJblByb2dyZXNzXCIsIFwiTmV2ZXJSdW5cIiwgXCJVbmtub3duXCJcbiAgICBdO1xuICAgIFxuICAgIGlmIChzdGF0dXMgJiYgIXZhbGlkU3RhdHVzZXMuaW5jbHVkZXMoc3RhdHVzKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnSW52YWxpZCBzdGF0dXMgcGFyYW1ldGVyJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0YXIgY2hhbWFkYSBhcGVuYXMgcGFyYSBvIENvdmUgUHJvdmlkZXIgKE4tYWJsZSlcbiAgICB0cnkge1xuICAgICAgY29uc3QgY292ZVByb3ZpZGVyID0gbmV3IENvdmVQcm92aWRlcigpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY292ZVByb3ZpZGVyLmxpc3RTdGF0dXMoeyBcbiAgICAgICAgcGFydG5lcklkLCBcbiAgICAgICAgcSwgXG4gICAgICAgIHN0YXR1czogc3RhdHVzIHx8IHVuZGVmaW5lZCwgXG4gICAgICAgIHBhZ2UsIFxuICAgICAgICBwYWdlU2l6ZSBcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBhbGxJdGVtcyA9IHJlc3VsdC5pdGVtcztcbiAgICAgIGNvbnN0IHRvdGFsQ291bnQgPSByZXN1bHQudG90YWw7XG5cbiAgICAgIC8vIENhbGN1bGFyIEtQSXNcbiAgICAgIGNvbnN0IGtwaXMgPSBjYWxjdWxhdGVLUElzKGFsbEl0ZW1zKTtcblxuICAgICAgLy8gT3JkZW5hciBwb3Igbm9tZSBkbyBkaXNwb3NpdGl2b1xuICAgICAgYWxsSXRlbXMuc29ydCgoYSwgYikgPT4gYS5kZXZpY2VOYW1lLmxvY2FsZUNvbXBhcmUoYi5kZXZpY2VOYW1lKSk7XG5cbiAgICAgIC8vIFBhZ2luYcOnw6NvIGZpbmFsIChzZSBuZWNlc3PDoXJpbylcbiAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG4gICAgICBjb25zdCBwYWdpbmF0ZWRJdGVtcyA9IGFsbEl0ZW1zLnNsaWNlKHN0YXJ0SW5kZXgsIHN0YXJ0SW5kZXggKyBwYWdlU2l6ZSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBCYWNrdXBSZXNwb25zZSA9IHtcbiAgICAgICAgaXRlbXM6IHBhZ2luYXRlZEl0ZW1zLFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgdG90YWw6IHRvdGFsQ291bnQsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBwYWdlU2l6ZSxcbiAgICAgICAgICBsYXN0U3luY0F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSxcbiAgICAgICAga3Bpc1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGNvdmVFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ292ZSBQcm92aWRlciBlcnJvcjonLCBjb3ZlRXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBSZXRvcm5hciByZXNwb3N0YSB2YXppYSBlbSBjYXNvIGRlIGVycm9cbiAgICAgIGNvbnN0IGVtcHR5UmVzcG9uc2U6IEJhY2t1cFJlc3BvbnNlID0ge1xuICAgICAgICBpdGVtczogW10sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIHBhZ2VTaXplLFxuICAgICAgICAgIGxhc3RTeW5jQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICBrcGlzOiB7XG4gICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgc3VjY2VzczogMCxcbiAgICAgICAgICB3YXJuaW5nczogMCxcbiAgICAgICAgICBmYWlsZWQ6IDAsXG4gICAgICAgICAgaW5Qcm9ncmVzczogMCxcbiAgICAgICAgICBuZXZlclJ1bjogMFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oZW1wdHlSZXNwb25zZSk7XG4gICAgfVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBFcnJvcjonLCBlcnJvcik7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IFxuICAgICAgICAgIChlcnJvciBhcyBFcnJvcikubWVzc2FnZSA6ICdTb21ldGhpbmcgd2VudCB3cm9uZydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8vIE3DqXRvZG8gT1BUSU9OUyBwYXJhIENPUlMgKHNlIG5lY2Vzc8OhcmlvKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE9QVElPTlMoKSB7XG4gIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKG51bGwsIHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJzogJyonLFxuICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnOiAnR0VULCBPUFRJT05TJyxcbiAgICAgICdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJzogJ0NvbnRlbnQtVHlwZSwgQXV0aG9yaXphdGlvbicsXG4gICAgfSxcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiQ292ZVByb3ZpZGVyIiwiY2FsY3VsYXRlS1BJcyIsInNhbml0aXplU3RyaW5nIiwic2FuaXRpemVOdW1iZXIiLCJoZWFkZXJzIiwicmF0ZUxpbWl0TWFwIiwiTWFwIiwiUkFURV9MSU1JVCIsIlJBVEVfV0lORE9XIiwiY2hlY2tSYXRlTGltaXQiLCJpcCIsIm5vdyIsIkRhdGUiLCJyZWNvcmQiLCJnZXQiLCJyZXNldFRpbWUiLCJzZXQiLCJjb3VudCIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJoZWFkZXJzTGlzdCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInBhcnRuZXJJZCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInEiLCJ1bmRlZmluZWQiLCJwYWdlIiwicGFnZVNpemUiLCJNYXRoIiwibWluIiwidmFsaWRTdGF0dXNlcyIsImluY2x1ZGVzIiwiY292ZVByb3ZpZGVyIiwicmVzdWx0IiwibGlzdFN0YXR1cyIsImFsbEl0ZW1zIiwiaXRlbXMiLCJ0b3RhbENvdW50IiwidG90YWwiLCJrcGlzIiwic29ydCIsImEiLCJiIiwiZGV2aWNlTmFtZSIsImxvY2FsZUNvbXBhcmUiLCJzdGFydEluZGV4IiwicGFnaW5hdGVkSXRlbXMiLCJzbGljZSIsInJlc3BvbnNlIiwibWV0YSIsImxhc3RTeW5jQXQiLCJ0b0lTT1N0cmluZyIsImNvdmVFcnJvciIsImNvbnNvbGUiLCJlbXB0eVJlc3BvbnNlIiwic3VjY2VzcyIsIndhcm5pbmdzIiwiZmFpbGVkIiwiaW5Qcm9ncmVzcyIsIm5ldmVyUnVuIiwibWVzc2FnZSIsInByb2Nlc3MiLCJPUFRJT05TIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/cliente/[partnerId]/backups/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/providers/cove.ts":
/*!*******************************!*\
  !*** ./lib/providers/cove.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CoveProvider: () => (/* binding */ CoveProvider)\n/* harmony export */ });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"(rsc)/./lib/utils.ts\");\n\nclass CoveProvider {\n    getHeaders() {\n        return {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${this.apiKey}`\n        };\n    }\n    async getVisa() {\n        // Verificar cache do visa (expira em ~15 min)\n        if (this.visaCache && Date.now() < this.visaCache.expiresAt) {\n            return this.visaCache.visa;\n        }\n        const loginPayload = {\n            jsonrpc: \"2.0\",\n            method: \"Login\",\n            params: {\n                username: \"API-USER-DASHBOARD\",\n                password: this.apiKey\n            },\n            id: \"1\"\n        };\n        const response = await fetch(this.baseUrl, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(loginPayload)\n        });\n        if (!response.ok) {\n            throw new Error(`Cove login failed: ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data.error) {\n            throw new Error(`Cove login error: ${data.error.message}`);\n        }\n        if (!data.visa) {\n            throw new Error(\"Cove login error: No visa returned\");\n        }\n        // Cache por 15 minutos\n        this.visaCache = {\n            visa: data.visa,\n            expiresAt: Date.now() + 15 * 60 * 1000\n        };\n        return data.visa;\n    }\n    async call(method, params = {}) {\n        const visa = await this.getVisa();\n        const payload = {\n            jsonrpc: \"2.0\",\n            method,\n            visa: visa,\n            params,\n            id: Date.now().toString()\n        };\n        const response = await fetch(this.baseUrl, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n            throw new Error(`Cove API call failed: ${response.statusText}`);\n        }\n        const data = await response.json();\n        if (data.error) {\n            throw new Error(`Cove API error: ${data.error.message || \"Unknown error\"}`);\n        }\n        return data;\n    }\n    async listPartners(parentPartnerId) {\n        try {\n            const response = await this.call(\"EnumeratePartners\", {\n                parentPartnerId: parentPartnerId || Number(this.partnerId),\n                fields: [\n                    0,\n                    1,\n                    3,\n                    4,\n                    5,\n                    8,\n                    10,\n                    20\n                ],\n                fetchRecursively: true\n            });\n            return response.result?.result || [];\n        } catch (error) {\n            console.error(\"CoveProvider listPartners error:\", error);\n            return [];\n        }\n    }\n    async listStatus(params) {\n        const { partnerId, q, status, page = 1, pageSize = 50 } = params;\n        try {\n            // Colunas necessárias do Cove conforme documentação\n            const columns = [\n                \"I1\",\n                \"F17\",\n                \"F18\"\n            ];\n            const response = await this.call(\"EnumerateAccountStatistics\", {\n                query: {\n                    PartnerId: Number(partnerId),\n                    SelectionMode: \"Merged\",\n                    StartRecordNumber: (page - 1) * pageSize,\n                    RecordsCount: pageSize,\n                    Columns: columns\n                }\n            });\n            const rawItems = response?.result?.result ?? [];\n            const items = rawItems.map((item)=>{\n                const settings = Object.assign({}, ...item.Settings);\n                const deviceName = settings.I1 || \"Unknown Device\";\n                return {\n                    id: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.generateId)(\"cove\", deviceName),\n                    deviceName: deviceName,\n                    kind: \"Server\",\n                    source: \"A\",\n                    lastStatus: (0,_utils__WEBPACK_IMPORTED_MODULE_0__.mapCoveStatus)(settings.F17),\n                    lastCompletedAt: settings.F18 ? (0,_utils__WEBPACK_IMPORTED_MODULE_0__.toISO)(settings.F18) : undefined,\n                    raw: settings\n                };\n            });\n            // Aplicar filtros\n            let filteredItems = items;\n            if (q) {\n                filteredItems = filteredItems.filter((item)=>item.deviceName.toLowerCase().includes(q.toLowerCase()));\n            }\n            if (status) {\n                filteredItems = filteredItems.filter((item)=>item.lastStatus === status);\n            }\n            return {\n                items: filteredItems,\n                total: filteredItems.length\n            };\n        } catch (error) {\n            console.error(\"CoveProvider error:\", error);\n            console.log(\"API Key usado:\", this.apiKey ? `${this.apiKey.substring(0, 10)}...` : \"n\\xe3o definido\");\n            console.log(\"Partner ID usado:\", this.partnerId);\n            return {\n                items: [],\n                total: 0\n            };\n        }\n    }\n    constructor(){\n        this.baseUrl = \"https://api.backup.management/jsonapi\";\n        this.apiKey = process.env.COVE_API_KEY;\n        this.partnerId = process.env.COVE_PARTNER_ID;\n        this.visaCache = null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXBCLElBQUlaLEdBQUc7Z0JBQ0w2QixnQkFBZ0JBLGNBQWNDLE1BQU0sQ0FBQ2hCLENBQUFBLE9BQ25DQSxLQUFLSyxVQUFVLENBQUNZLFdBQVcsR0FBR0MsUUFBUSxDQUFDaEMsRUFBRStCLFdBQVc7WUFFeEQ7WUFFQSxJQUFJOUIsUUFBUTtnQkFDVjRCLGdCQUFnQkEsY0FBY0MsTUFBTSxDQUFDaEIsQ0FBQUEsT0FDbkNBLEtBQUtTLFVBQVUsS0FBS3RCO1lBRXhCO1lBRUEsT0FBTztnQkFDTFcsT0FBT2lCO2dCQUNQSSxPQUFPSixjQUFjSyxNQUFNO1lBQzdCO1FBRUYsRUFBRSxPQUFPaEQsT0FBTztZQUNkWSxRQUFRWixLQUFLLENBQUMsdUJBQXVCQTtZQUNyQ1ksUUFBUXFDLEdBQUcsQ0FBQyxrQkFBa0IsSUFBSSxDQUFDM0UsTUFBTSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUNBLE1BQU0sQ0FBQzRFLFNBQVMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUc7WUFDbkZ0QyxRQUFRcUMsR0FBRyxDQUFDLHFCQUFxQixJQUFJLENBQUN6QyxTQUFTO1lBRS9DLE9BQU87Z0JBQ0xrQixPQUFPLEVBQUU7Z0JBQ1RxQixPQUFPO1lBQ1Q7UUFDRjtJQUNGOzthQTdLUXpELFVBQVU7YUFDVmhCLFNBQVM2RSxRQUFRQyxHQUFHLENBQUNDLFlBQVk7YUFDakM3QyxZQUFZMkMsUUFBUUMsR0FBRyxDQUFDRSxlQUFlO2FBQ3ZDOUUsWUFBd0Q7O0FBMktsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rhc2hib2FyZC1iYWNrdXAtbWFnaW5mLy4vbGliL3Byb3ZpZGVycy9jb3ZlLnRzPzMyZjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFja3VwUHJvdmlkZXIsIEJhY2t1cEl0ZW0sIEJhY2t1cFN0YXR1cyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG1hcENvdmVTdGF0dXMsIHRvSVNPLCBnZW5lcmF0ZUlkIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgQ292ZVN0YXRzUmVzcG9uc2Uge1xuICBpZDogbnVtYmVyO1xuICBqc29ucnBjOiBzdHJpbmc7XG4gIHJlc3VsdD86IHtcbiAgICByZXN1bHQ/OiBBcnJheTx7XG4gICAgICBTZXR0aW5nczogQXJyYXk8eyBba2V5OiBzdHJpbmddOiBhbnkgfT47XG4gICAgfT47XG4gIH07XG4gIGVycm9yPzogYW55O1xufVxuXG5pbnRlcmZhY2UgQ292ZVBhcnRuZXIge1xuICBJZDogbnVtYmVyO1xuICBOYW1lOiBzdHJpbmc7XG4gIExldmVsOiBzdHJpbmc7XG4gIFN0YXRlOiBzdHJpbmc7XG4gIFBhcmVudElkOiBudW1iZXI7XG4gIFNlcnZpY2VUeXBlOiBzdHJpbmc7XG4gIENoaWxkU2VydmljZVR5cGVzPzogc3RyaW5nW107XG4gIExvY2F0aW9uSWQ/OiBudW1iZXI7XG4gIENvbXBhbnk/OiBhbnk7XG4gIENyZWF0aW9uVGltZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIENvdmVQcm92aWRlciBpbXBsZW1lbnRzIEJhY2t1cFByb3ZpZGVyIHtcbiAgcHJpdmF0ZSBiYXNlVXJsID0gJ2h0dHBzOi8vYXBpLmJhY2t1cC5tYW5hZ2VtZW50L2pzb25hcGknO1xuICBwcml2YXRlIGFwaUtleSA9IHByb2Nlc3MuZW52LkNPVkVfQVBJX0tFWSE7XG4gIHByaXZhdGUgcGFydG5lcklkID0gcHJvY2Vzcy5lbnYuQ09WRV9QQVJUTkVSX0lEITtcbiAgcHJpdmF0ZSB2aXNhQ2FjaGU6IHsgdmlzYTogc3RyaW5nOyBleHBpcmVzQXQ6IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSBnZXRIZWFkZXJzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldFZpc2EoKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBWZXJpZmljYXIgY2FjaGUgZG8gdmlzYSAoZXhwaXJhIGVtIH4xNSBtaW4pXG4gICAgaWYgKHRoaXMudmlzYUNhY2hlICYmIERhdGUubm93KCkgPCB0aGlzLnZpc2FDYWNoZS5leHBpcmVzQXQpIHtcbiAgICAgIHJldHVybiB0aGlzLnZpc2FDYWNoZS52aXNhO1xuICAgIH1cblxuICAgIGNvbnN0IGxvZ2luUGF5bG9hZCA9IHtcbiAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgbWV0aG9kOiAnTG9naW4nLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHVzZXJuYW1lOiAnQVBJLVVTRVItREFTSEJPQVJEJyxcbiAgICAgICAgcGFzc3dvcmQ6IHRoaXMuYXBpS2V5XG4gICAgICB9LFxuICAgICAgaWQ6ICcxJ1xuICAgIH07XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRoaXMuYmFzZVVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGxvZ2luUGF5bG9hZClcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ292ZSBsb2dpbiBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIFxuICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdmUgbG9naW4gZXJyb3I6ICR7ZGF0YS5lcnJvci5tZXNzYWdlfWApO1xuICAgIH1cblxuICAgIGlmICghZGF0YS52aXNhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdmUgbG9naW4gZXJyb3I6IE5vIHZpc2EgcmV0dXJuZWQnKTtcbiAgICB9XG5cbiAgICAvLyBDYWNoZSBwb3IgMTUgbWludXRvc1xuICAgIHRoaXMudmlzYUNhY2hlID0ge1xuICAgICAgdmlzYTogZGF0YS52aXNhLFxuICAgICAgZXhwaXJlc0F0OiBEYXRlLm5vdygpICsgKDE1ICogNjAgKiAxMDAwKVxuICAgIH07XG5cbiAgICByZXR1cm4gZGF0YS52aXNhO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBjYWxsKG1ldGhvZDogc3RyaW5nLCBwYXJhbXM6IGFueSA9IHt9KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB2aXNhID0gYXdhaXQgdGhpcy5nZXRWaXNhKCk7XG4gICAgXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgbWV0aG9kLFxuICAgICAgdmlzYTogdmlzYSxcbiAgICAgIHBhcmFtcyxcbiAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKClcbiAgICB9O1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmJhc2VVcmwsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKVxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3ZlIEFQSSBjYWxsIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ292ZSBBUEkgZXJyb3I6ICR7ZGF0YS5lcnJvci5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RQYXJ0bmVycyhwYXJlbnRQYXJ0bmVySWQ/OiBudW1iZXIpOiBQcm9taXNlPENvdmVQYXJ0bmVyW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNhbGwoJ0VudW1lcmF0ZVBhcnRuZXJzJywge1xuICAgICAgICBwYXJlbnRQYXJ0bmVySWQ6IHBhcmVudFBhcnRuZXJJZCB8fCBOdW1iZXIodGhpcy5wYXJ0bmVySWQpLFxuICAgICAgICBmaWVsZHM6IFswLCAxLCAzLCA0LCA1LCA4LCAxMCwgMjBdLCAvLyBOYW1lLCBMZXZlbCwgQ2hpbGRTZXJ2aWNlVHlwZXMsIFNlcnZpY2VUeXBlLCBTdGF0ZSwgTG9jYXRpb25JZCwgQ29tcGFueSwgQ3JlYXRpb25UaW1lXG4gICAgICAgIGZldGNoUmVjdXJzaXZlbHk6IHRydWVcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0Py5yZXN1bHQgfHwgW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NvdmVQcm92aWRlciBsaXN0UGFydG5lcnMgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxpc3RTdGF0dXMocGFyYW1zOiB7XG4gICAgcGFydG5lcklkOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgcT86IHN0cmluZztcbiAgICBzdGF0dXM/OiBCYWNrdXBTdGF0dXM7XG4gICAgcGFnZT86IG51bWJlcjtcbiAgICBwYWdlU2l6ZT86IG51bWJlcjtcbiAgfSk6IFByb21pc2U8eyBpdGVtczogQmFja3VwSXRlbVtdOyB0b3RhbDogbnVtYmVyIH0+IHtcbiAgICBcbiAgICBjb25zdCB7IHBhcnRuZXJJZCwgcSwgc3RhdHVzLCBwYWdlID0gMSwgcGFnZVNpemUgPSA1MCB9ID0gcGFyYW1zO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDb2x1bmFzIG5lY2Vzc8OhcmlhcyBkbyBDb3ZlIGNvbmZvcm1lIGRvY3VtZW50YcOnw6NvXG4gICAgICBjb25zdCBjb2x1bW5zID0gW1wiSTFcIiwgXCJGMTdcIiwgXCJGMThcIl07XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jYWxsKFwiRW51bWVyYXRlQWNjb3VudFN0YXRpc3RpY3NcIiwge1xuICAgICAgICBxdWVyeToge1xuICAgICAgICAgIFBhcnRuZXJJZDogTnVtYmVyKHBhcnRuZXJJZCksXG4gICAgICAgICAgU2VsZWN0aW9uTW9kZTogXCJNZXJnZWRcIixcbiAgICAgICAgICBTdGFydFJlY29yZE51bWJlcjogKHBhZ2UgLSAxKSAqIHBhZ2VTaXplLFxuICAgICAgICAgIFJlY29yZHNDb3VudDogcGFnZVNpemUsXG4gICAgICAgICAgQ29sdW1uczogY29sdW1uc1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmF3SXRlbXMgPSByZXNwb25zZT8ucmVzdWx0Py5yZXN1bHQgPz8gW107XG4gICAgICBcbiAgICAgIGNvbnN0IGl0ZW1zOiBCYWNrdXBJdGVtW10gPSByYXdJdGVtcy5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLml0ZW0uU2V0dGluZ3MpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGV2aWNlTmFtZSA9IHNldHRpbmdzLkkxIHx8ICdVbmtub3duIERldmljZSc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoJ2NvdmUnLCBkZXZpY2VOYW1lKSxcbiAgICAgICAgICBkZXZpY2VOYW1lOiBkZXZpY2VOYW1lLFxuICAgICAgICAgIGtpbmQ6ICdTZXJ2ZXInIGFzIGNvbnN0LFxuICAgICAgICAgIHNvdXJjZTogJ0EnIGFzIGNvbnN0LFxuICAgICAgICAgIGxhc3RTdGF0dXM6IG1hcENvdmVTdGF0dXMoc2V0dGluZ3MuRjE3KSxcbiAgICAgICAgICBsYXN0Q29tcGxldGVkQXQ6IHNldHRpbmdzLkYxOCA/IHRvSVNPKHNldHRpbmdzLkYxOCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgcmF3OiBzZXR0aW5nc1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIEFwbGljYXIgZmlsdHJvc1xuICAgICAgbGV0IGZpbHRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICAgIFxuICAgICAgaWYgKHEpIHtcbiAgICAgICAgZmlsdGVyZWRJdGVtcyA9IGZpbHRlcmVkSXRlbXMuZmlsdGVyKGl0ZW0gPT4gXG4gICAgICAgICAgaXRlbS5kZXZpY2VOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgIGZpbHRlcmVkSXRlbXMgPSBmaWx0ZXJlZEl0ZW1zLmZpbHRlcihpdGVtID0+IFxuICAgICAgICAgIGl0ZW0ubGFzdFN0YXR1cyA9PT0gc3RhdHVzXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1zOiBmaWx0ZXJlZEl0ZW1zLFxuICAgICAgICB0b3RhbDogZmlsdGVyZWRJdGVtcy5sZW5ndGhcbiAgICAgIH07XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQ292ZVByb3ZpZGVyIGVycm9yOicsIGVycm9yKTtcbiAgICAgIGNvbnNvbGUubG9nKCdBUEkgS2V5IHVzYWRvOicsIHRoaXMuYXBpS2V5ID8gYCR7dGhpcy5hcGlLZXkuc3Vic3RyaW5nKDAsIDEwKX0uLi5gIDogJ27Do28gZGVmaW5pZG8nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQYXJ0bmVyIElEIHVzYWRvOicsIHRoaXMucGFydG5lcklkKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICB0b3RhbDogMFxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJtYXBDb3ZlU3RhdHVzIiwidG9JU08iLCJnZW5lcmF0ZUlkIiwiQ292ZVByb3ZpZGVyIiwiZ2V0SGVhZGVycyIsImFwaUtleSIsImdldFZpc2EiLCJ2aXNhQ2FjaGUiLCJEYXRlIiwibm93IiwiZXhwaXJlc0F0IiwidmlzYSIsImxvZ2luUGF5bG9hZCIsImpzb25ycGMiLCJtZXRob2QiLCJwYXJhbXMiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiaWQiLCJyZXNwb25zZSIsImZldGNoIiwiYmFzZVVybCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiRXJyb3IiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJjYWxsIiwicGF5bG9hZCIsInRvU3RyaW5nIiwibGlzdFBhcnRuZXJzIiwicGFyZW50UGFydG5lcklkIiwiTnVtYmVyIiwicGFydG5lcklkIiwiZmllbGRzIiwiZmV0Y2hSZWN1cnNpdmVseSIsInJlc3VsdCIsImNvbnNvbGUiLCJsaXN0U3RhdHVzIiwicSIsInN0YXR1cyIsInBhZ2UiLCJwYWdlU2l6ZSIsImNvbHVtbnMiLCJxdWVyeSIsIlBhcnRuZXJJZCIsIlNlbGVjdGlvbk1vZGUiLCJTdGFydFJlY29yZE51bWJlciIsIlJlY29yZHNDb3VudCIsIkNvbHVtbnMiLCJyYXdJdGVtcyIsIml0ZW1zIiwibWFwIiwiaXRlbSIsInNldHRpbmdzIiwiT2JqZWN0IiwiYXNzaWduIiwiU2V0dGluZ3MiLCJkZXZpY2VOYW1lIiwiSTEiLCJraW5kIiwic291cmNlIiwibGFzdFN0YXR1cyIsIkYxNyIsImxhc3RDb21wbGV0ZWRBdCIsIkYxOCIsInVuZGVmaW5lZCIsInJhdyIsImZpbHRlcmVkSXRlbXMiLCJmaWx0ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwidG90YWwiLCJsZW5ndGgiLCJsb2ciLCJzdWJzdHJpbmciLCJwcm9jZXNzIiwiZW52IiwiQ09WRV9BUElfS0VZIiwiQ09WRV9QQVJUTkVSX0lEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/providers/cove.ts\n");

/***/ }),

/***/ "(rsc)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateKPIs: () => (/* binding */ calculateKPIs),\n/* harmony export */   formatDateBR: () => (/* binding */ formatDateBR),\n/* harmony export */   generateId: () => (/* binding */ generateId),\n/* harmony export */   getSourceLabel: () => (/* binding */ getSourceLabel),\n/* harmony export */   getStatusColor: () => (/* binding */ getStatusColor),\n/* harmony export */   getStatusLabel: () => (/* binding */ getStatusLabel),\n/* harmony export */   mapCoveStatus: () => (/* binding */ mapCoveStatus),\n/* harmony export */   mapGenericStatus: () => (/* binding */ mapGenericStatus),\n/* harmony export */   mapType: () => (/* binding */ mapType),\n/* harmony export */   paginate: () => (/* binding */ paginate),\n/* harmony export */   sanitizeNumber: () => (/* binding */ sanitizeNumber),\n/* harmony export */   sanitizeString: () => (/* binding */ sanitizeString),\n/* harmony export */   toISO: () => (/* binding */ toISO)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n// Mapeamento de status do Cove\nconst mapCoveStatus = (s)=>{\n    const statusMap = {\n        \"Success\": \"Success\",\n        \"Failed\": \"Failed\",\n        \"Completed with errors\": \"CompletedWithErrors\",\n        \"In progress\": \"InProgress\",\n        \"Never run\": \"NeverRun\"\n    };\n    return statusMap[s] ?? \"Unknown\";\n};\n// Mapeamento de status genérico (API B)\nconst mapGenericStatus = (s)=>{\n    const key = s.toLowerCase();\n    if ([\n        \"ok\",\n        \"success\",\n        \"successful\"\n    ].includes(key)) return \"Success\";\n    if ([\n        \"warn\",\n        \"warning\",\n        \"partial\",\n        \"partial_success\"\n    ].includes(key)) return \"CompletedWithErrors\";\n    if ([\n        \"error\",\n        \"fail\",\n        \"failed\"\n    ].includes(key)) return \"Failed\";\n    if ([\n        \"running\",\n        \"inprogress\",\n        \"in_progress\"\n    ].includes(key)) return \"InProgress\";\n    if ([\n        \"never\",\n        \"never_run\",\n        \"neverrun\"\n    ].includes(key)) return \"NeverRun\";\n    return \"Unknown\";\n};\n// Mapeamento de tipo de dispositivo\nconst mapType = (t)=>t?.toLowerCase().includes(\"server\") ? \"Server\" : \"Workstation\";\n// Conversão para ISO string\nconst toISO = (v)=>v ? new Date(v).toISOString() : undefined;\n// Geração de hash para ID\nconst generateId = (source, deviceName)=>{\n    return (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)(\"sha1\").update(`${source}:${deviceName}`).digest(\"hex\").substring(0, 12);\n};\n// Formatação de data para pt-BR\nconst formatDateBR = (isoString)=>{\n    if (!isoString) return \"—\";\n    const date = new Date(isoString);\n    return new Intl.DateTimeFormat(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        timeZone: \"America/Sao_Paulo\"\n    }).format(date);\n};\n// Cálculo de KPIs\nconst calculateKPIs = (items)=>{\n    const total = items.length;\n    const success = items.filter((i)=>i.lastStatus === \"Success\").length;\n    const warnings = items.filter((i)=>i.lastStatus === \"CompletedWithErrors\").length;\n    const failed = items.filter((i)=>i.lastStatus === \"Failed\").length;\n    const inProgress = items.filter((i)=>i.lastStatus === \"InProgress\").length;\n    const neverRun = items.filter((i)=>i.lastStatus === \"NeverRun\").length;\n    return {\n        total,\n        success,\n        warnings,\n        failed,\n        inProgress,\n        neverRun\n    };\n};\n// Paginação\nconst paginate = (items, page, pageSize)=>{\n    const startIndex = (page - 1) * pageSize;\n    const endIndex = startIndex + pageSize;\n    return {\n        items: items.slice(startIndex, endIndex),\n        total: items.length,\n        page,\n        pageSize,\n        totalPages: Math.ceil(items.length / pageSize)\n    };\n};\n// Sanitização de parâmetros\nconst sanitizeString = (str)=>{\n    if (!str) return undefined;\n    return str.replace(/[<>\\\"'&]/g, \"\").trim();\n};\nconst sanitizeNumber = (num)=>{\n    if (typeof num === \"number\") return Math.max(1, Math.floor(num));\n    if (!num) return 1;\n    const parsed = parseInt(num.toString(), 10);\n    return isNaN(parsed) ? 1 : Math.max(1, parsed);\n};\n// Cores por status\nconst getStatusColor = (status)=>{\n    const colors = {\n        Success: \"text-green-600 bg-green-50 border-green-200\",\n        Failed: \"text-red-600 bg-red-50 border-red-200\",\n        CompletedWithErrors: \"text-yellow-600 bg-yellow-50 border-yellow-200\",\n        InProgress: \"text-blue-600 bg-blue-50 border-blue-200\",\n        NeverRun: \"text-gray-600 bg-gray-50 border-gray-200\",\n        Unknown: \"text-gray-600 bg-gray-50 border-gray-200\"\n    };\n    return colors[status];\n};\n// Labels em português\nconst getStatusLabel = (status)=>{\n    const labels = {\n        Success: \"Sucesso\",\n        Failed: \"Falhou\",\n        CompletedWithErrors: \"Com Avisos\",\n        InProgress: \"Em Progresso\",\n        NeverRun: \"Nunca Executou\",\n        Unknown: \"Desconhecido\"\n    };\n    return labels[status];\n};\nconst getSourceLabel = (source)=>{\n    const labels = {\n        A: \"Servidores\",\n        B: \"Esta\\xe7\\xf5es\"\n    };\n    return labels[source] || source;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLElBQUlBO0FBQzNCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYXNoYm9hcmQtYmFja3VwLW1hZ2luZi8uL2xpYi91dGlscy50cz9mNzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhY2t1cFN0YXR1cywgQmFja3VwS2luZCwgQmFja3VwSXRlbSwgQmFja3VwS1BJcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gJ2NyeXB0byc7XG5cbi8vIE1hcGVhbWVudG8gZGUgc3RhdHVzIGRvIENvdmVcbmV4cG9ydCBjb25zdCBtYXBDb3ZlU3RhdHVzID0gKHM6IHN0cmluZyk6IEJhY2t1cFN0YXR1cyA9PiB7XG4gIGNvbnN0IHN0YXR1c01hcDogUmVjb3JkPHN0cmluZywgQmFja3VwU3RhdHVzPiA9IHtcbiAgICBcIlN1Y2Nlc3NcIjogXCJTdWNjZXNzXCIsXG4gICAgXCJGYWlsZWRcIjogXCJGYWlsZWRcIiwgXG4gICAgXCJDb21wbGV0ZWQgd2l0aCBlcnJvcnNcIjogXCJDb21wbGV0ZWRXaXRoRXJyb3JzXCIsXG4gICAgXCJJbiBwcm9ncmVzc1wiOiBcIkluUHJvZ3Jlc3NcIixcbiAgICBcIk5ldmVyIHJ1blwiOiBcIk5ldmVyUnVuXCJcbiAgfTtcbiAgcmV0dXJuIHN0YXR1c01hcFtzXSA/PyBcIlVua25vd25cIjtcbn07XG5cbi8vIE1hcGVhbWVudG8gZGUgc3RhdHVzIGdlbsOpcmljbyAoQVBJIEIpXG5leHBvcnQgY29uc3QgbWFwR2VuZXJpY1N0YXR1cyA9IChzOiBzdHJpbmcpOiBCYWNrdXBTdGF0dXMgPT4ge1xuICBjb25zdCBrZXkgPSBzLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChbXCJva1wiLCBcInN1Y2Nlc3NcIiwgXCJzdWNjZXNzZnVsXCJdLmluY2x1ZGVzKGtleSkpIHJldHVybiBcIlN1Y2Nlc3NcIjtcbiAgaWYgKFtcIndhcm5cIiwgXCJ3YXJuaW5nXCIsIFwicGFydGlhbFwiLCBcInBhcnRpYWxfc3VjY2Vzc1wiXS5pbmNsdWRlcyhrZXkpKSByZXR1cm4gXCJDb21wbGV0ZWRXaXRoRXJyb3JzXCI7XG4gIGlmIChbXCJlcnJvclwiLCBcImZhaWxcIiwgXCJmYWlsZWRcIl0uaW5jbHVkZXMoa2V5KSkgcmV0dXJuIFwiRmFpbGVkXCI7XG4gIGlmIChbXCJydW5uaW5nXCIsIFwiaW5wcm9ncmVzc1wiLCBcImluX3Byb2dyZXNzXCJdLmluY2x1ZGVzKGtleSkpIHJldHVybiBcIkluUHJvZ3Jlc3NcIjtcbiAgaWYgKFtcIm5ldmVyXCIsIFwibmV2ZXJfcnVuXCIsIFwibmV2ZXJydW5cIl0uaW5jbHVkZXMoa2V5KSkgcmV0dXJuIFwiTmV2ZXJSdW5cIjtcbiAgcmV0dXJuIFwiVW5rbm93blwiO1xufTtcblxuLy8gTWFwZWFtZW50byBkZSB0aXBvIGRlIGRpc3Bvc2l0aXZvXG5leHBvcnQgY29uc3QgbWFwVHlwZSA9ICh0Pzogc3RyaW5nKTogQmFja3VwS2luZCA9PiBcbiAgdD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInNlcnZlclwiKSA/IFwiU2VydmVyXCIgOiBcIldvcmtzdGF0aW9uXCI7XG5cbi8vIENvbnZlcnPDo28gcGFyYSBJU08gc3RyaW5nXG5leHBvcnQgY29uc3QgdG9JU08gPSAodjogYW55KTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IFxuICB2ID8gbmV3IERhdGUodikudG9JU09TdHJpbmcoKSA6IHVuZGVmaW5lZDtcblxuLy8gR2VyYcOnw6NvIGRlIGhhc2ggcGFyYSBJRFxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlSWQgPSAoc291cmNlOiBzdHJpbmcsIGRldmljZU5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKGAke3NvdXJjZX06JHtkZXZpY2VOYW1lfWApLmRpZ2VzdCgnaGV4Jykuc3Vic3RyaW5nKDAsIDEyKTtcbn07XG5cbi8vIEZvcm1hdGHDp8OjbyBkZSBkYXRhIHBhcmEgcHQtQlJcbmV4cG9ydCBjb25zdCBmb3JtYXREYXRlQlIgPSAoaXNvU3RyaW5nPzogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgaWYgKCFpc29TdHJpbmcpIHJldHVybiBcIuKAlFwiO1xuICBcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGlzb1N0cmluZyk7XG4gIHJldHVybiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdCgncHQtQlInLCB7XG4gICAgZGF5OiAnMi1kaWdpdCcsXG4gICAgbW9udGg6ICcyLWRpZ2l0JywgXG4gICAgeWVhcjogJ251bWVyaWMnLFxuICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICB0aW1lWm9uZTogJ0FtZXJpY2EvU2FvX1BhdWxvJ1xuICB9KS5mb3JtYXQoZGF0ZSk7XG59O1xuXG4vLyBDw6FsY3VsbyBkZSBLUElzXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlS1BJcyA9IChpdGVtczogQmFja3VwSXRlbVtdKTogQmFja3VwS1BJcyA9PiB7XG4gIGNvbnN0IHRvdGFsID0gaXRlbXMubGVuZ3RoO1xuICBjb25zdCBzdWNjZXNzID0gaXRlbXMuZmlsdGVyKGkgPT4gaS5sYXN0U3RhdHVzID09PSBcIlN1Y2Nlc3NcIikubGVuZ3RoO1xuICBjb25zdCB3YXJuaW5ncyA9IGl0ZW1zLmZpbHRlcihpID0+IGkubGFzdFN0YXR1cyA9PT0gXCJDb21wbGV0ZWRXaXRoRXJyb3JzXCIpLmxlbmd0aDtcbiAgY29uc3QgZmFpbGVkID0gaXRlbXMuZmlsdGVyKGkgPT4gaS5sYXN0U3RhdHVzID09PSBcIkZhaWxlZFwiKS5sZW5ndGg7XG4gIGNvbnN0IGluUHJvZ3Jlc3MgPSBpdGVtcy5maWx0ZXIoaSA9PiBpLmxhc3RTdGF0dXMgPT09IFwiSW5Qcm9ncmVzc1wiKS5sZW5ndGg7XG4gIGNvbnN0IG5ldmVyUnVuID0gaXRlbXMuZmlsdGVyKGkgPT4gaS5sYXN0U3RhdHVzID09PSBcIk5ldmVyUnVuXCIpLmxlbmd0aDtcblxuICByZXR1cm4geyB0b3RhbCwgc3VjY2Vzcywgd2FybmluZ3MsIGZhaWxlZCwgaW5Qcm9ncmVzcywgbmV2ZXJSdW4gfTtcbn07XG5cbi8vIFBhZ2luYcOnw6NvXG5leHBvcnQgY29uc3QgcGFnaW5hdGUgPSA8VD4oaXRlbXM6IFRbXSwgcGFnZTogbnVtYmVyLCBwYWdlU2l6ZTogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSAocGFnZSAtIDEpICogcGFnZVNpemU7XG4gIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIHBhZ2VTaXplO1xuICByZXR1cm4ge1xuICAgIGl0ZW1zOiBpdGVtcy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCksXG4gICAgdG90YWw6IGl0ZW1zLmxlbmd0aCxcbiAgICBwYWdlLFxuICAgIHBhZ2VTaXplLFxuICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbChpdGVtcy5sZW5ndGggLyBwYWdlU2l6ZSlcbiAgfTtcbn07XG5cbi8vIFNhbml0aXphw6fDo28gZGUgcGFyw6JtZXRyb3NcbmV4cG9ydCBjb25zdCBzYW5pdGl6ZVN0cmluZyA9IChzdHI/OiBzdHJpbmcpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIXN0cikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bPD5cXFwiJyZdL2csICcnKS50cmltKCk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FuaXRpemVOdW1iZXIgPSAobnVtPzogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgaWYgKHR5cGVvZiBudW0gPT09ICdudW1iZXInKSByZXR1cm4gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihudW0pKTtcbiAgaWYgKCFudW0pIHJldHVybiAxO1xuICBjb25zdCBwYXJzZWQgPSBwYXJzZUludChudW0udG9TdHJpbmcoKSwgMTApO1xuICByZXR1cm4gaXNOYU4ocGFyc2VkKSA/IDEgOiBNYXRoLm1heCgxLCBwYXJzZWQpO1xufTtcblxuLy8gQ29yZXMgcG9yIHN0YXR1c1xuZXhwb3J0IGNvbnN0IGdldFN0YXR1c0NvbG9yID0gKHN0YXR1czogQmFja3VwU3RhdHVzKTogc3RyaW5nID0+IHtcbiAgY29uc3QgY29sb3JzOiBSZWNvcmQ8QmFja3VwU3RhdHVzLCBzdHJpbmc+ID0ge1xuICAgIFN1Y2Nlc3M6IFwidGV4dC1ncmVlbi02MDAgYmctZ3JlZW4tNTAgYm9yZGVyLWdyZWVuLTIwMFwiLFxuICAgIEZhaWxlZDogXCJ0ZXh0LXJlZC02MDAgYmctcmVkLTUwIGJvcmRlci1yZWQtMjAwXCIsIFxuICAgIENvbXBsZXRlZFdpdGhFcnJvcnM6IFwidGV4dC15ZWxsb3ctNjAwIGJnLXllbGxvdy01MCBib3JkZXIteWVsbG93LTIwMFwiLFxuICAgIEluUHJvZ3Jlc3M6IFwidGV4dC1ibHVlLTYwMCBiZy1ibHVlLTUwIGJvcmRlci1ibHVlLTIwMFwiLFxuICAgIE5ldmVyUnVuOiBcInRleHQtZ3JheS02MDAgYmctZ3JheS01MCBib3JkZXItZ3JheS0yMDBcIixcbiAgICBVbmtub3duOiBcInRleHQtZ3JheS02MDAgYmctZ3JheS01MCBib3JkZXItZ3JheS0yMDBcIlxuICB9O1xuICByZXR1cm4gY29sb3JzW3N0YXR1c107XG59O1xuXG4vLyBMYWJlbHMgZW0gcG9ydHVndcOqc1xuZXhwb3J0IGNvbnN0IGdldFN0YXR1c0xhYmVsID0gKHN0YXR1czogQmFja3VwU3RhdHVzKTogc3RyaW5nID0+IHtcbiAgY29uc3QgbGFiZWxzOiBSZWNvcmQ8QmFja3VwU3RhdHVzLCBzdHJpbmc+ID0ge1xuICAgIFN1Y2Nlc3M6IFwiU3VjZXNzb1wiLFxuICAgIEZhaWxlZDogXCJGYWxob3VcIixcbiAgICBDb21wbGV0ZWRXaXRoRXJyb3JzOiBcIkNvbSBBdmlzb3NcIiwgXG4gICAgSW5Qcm9ncmVzczogXCJFbSBQcm9ncmVzc29cIixcbiAgICBOZXZlclJ1bjogXCJOdW5jYSBFeGVjdXRvdVwiLFxuICAgIFVua25vd246IFwiRGVzY29uaGVjaWRvXCJcbiAgfTtcbiAgcmV0dXJuIGxhYmVsc1tzdGF0dXNdO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNvdXJjZUxhYmVsID0gKHNvdXJjZTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgbGFiZWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIEE6IFwiU2Vydmlkb3Jlc1wiLFxuICAgIEI6IFwiRXN0YcOnw7Vlc1wiXG4gIH07XG4gIHJldHVybiBsYWJlbHNbc291cmNlXSB8fCBzb3VyY2U7XG59O1xuIl0sIm5hbWVzIjpbImNyZWF0ZUhhc2giLCJtYXBDb3ZlU3RhdHVzIiwicyIsInN0YXR1c01hcCIsIm1hcEdlbmVyaWNTdGF0dXMiLCJrZXkiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwibWFwVHlwZSIsInQiLCJ0b0lTTyIsInYiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ1bmRlZmluZWQiLCJnZW5lcmF0ZUlkIiwic291cmNlIiwiZGV2aWNlTmFtZSIsInVwZGF0ZSIsImRpZ2VzdCIsInN1YnN0cmluZyIsImZvcm1hdERhdGVCUiIsImlzb1N0cmluZyIsImRhdGUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJkYXkiLCJtb250aCIsInllYXIiLCJob3VyIiwibWludXRlIiwidGltZVpvbmUiLCJmb3JtYXQiLCJjYWxjdWxhdGVLUElzIiwiaXRlbXMiLCJ0b3RhbCIsImxlbmd0aCIsInN1Y2Nlc3MiLCJmaWx0ZXIiLCJpIiwibGFzdFN0YXR1cyIsIndhcm5pbmdzIiwiZmFpbGVkIiwiaW5Qcm9ncmVzcyIsIm5ldmVyUnVuIiwicGFnaW5hdGUiLCJwYWdlIiwicGFnZVNpemUiLCJzdGFydEluZGV4IiwiZW5kSW5kZXgiLCJzbGljZSIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsInNhbml0aXplU3RyaW5nIiwic3RyIiwicmVwbGFjZSIsInRyaW0iLCJzYW5pdGl6ZU51bWJlciIsIm51bSIsIm1heCIsImZsb29yIiwicGFyc2VkIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsImlzTmFOIiwiZ2V0U3RhdHVzQ29sb3IiLCJzdGF0dXMiLCJjb2xvcnMiLCJTdWNjZXNzIiwiRmFpbGVkIiwiQ29tcGxldGVkV2l0aEVycm9ycyIsIkluUHJvZ3Jlc3MiLCJOZXZlclJ1biIsIlVua25vd24iLCJnZXRTdGF0dXNMYWJlbCIsImxhYmVscyIsImdldFNvdXJjZUxhYmVsIiwiQSIsIkIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&page=%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcliente%2F%5BpartnerId%5D%2Fbackups%2Froute.ts&appDir=C%3A%5Capp-maginf%5Cdashboard-backup%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Capp-maginf%5Cdashboard-backup&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();