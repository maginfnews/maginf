{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/app-maginf/pages/api/contact.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next'\nimport { Resend } from 'resend'\n\nconst resend = new Resend(process.env.RESEND_API_KEY)\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  console.log('üî• API /api/contact chamada!', req.method)\n  \n  if (req.method !== 'POST') {\n    console.log('‚ùå M√©todo n√£o permitido:', req.method)\n    return res.status(405).json({ ok: false, error: 'Method not allowed' })\n  }\n\n  try {\n    console.log('üìã Dados recebidos:', req.body)\n    const { name, email, company, message } = req.body\n\n    // Verificar se API key existe\n    if (!process.env.RESEND_API_KEY) {\n      console.error('‚ùå RESEND_API_KEY n√£o encontrada!')\n      return res.status(500).json({ ok: false, error: 'API key n√£o configurada' })\n    }\n\n    console.log('üîë API Key encontrada:', process.env.RESEND_API_KEY?.substring(0, 10) + '...')\n    console.log('üìß Tentando enviar email via Resend...')\n\n    const data = await resend.emails.send({\n      from: \"Site MAGINF <contato@notificacao.maginf.com.br>\",\n      to: [\"maicon@magpass.com.br\"],\n      subject: `Novo contato do site ‚Äì ${name}`,\n      reply_to: email,\n      html: `\n        <h1>Novo contato do site</h1>\n        <p><b>Nome:</b> ${name}</p>\n        <p><b>Email:</b> ${email}</p>\n        <p><b>Empresa:</b> ${company}</p>\n        <p><b>Mensagem:</b><br/>${message}</p>\n      `,\n    })\n\n    console.log('‚úÖ Email enviado com sucesso!', data)\n    return res.status(200).json({ ok: true, data })\n  } catch (error: any) {\n    console.error(\"‚ùå Erro detalhado ao enviar email:\", error)\n    console.error(\"‚ùå Stack trace:\", error.stack)\n    return res.status(500).json({ ok: false, error: error.message })\n  }\n}\n"],"names":[],"mappings":";;;;AACA;;;;;;AAEA,MAAM,SAAS,IAAI,sHAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAErC,eAAe,QAC5B,GAAmB,EACnB,GAAoB;IAEpB,QAAQ,GAAG,CAAC,gCAAgC,IAAI,MAAM;IAEtD,IAAI,IAAI,MAAM,KAAK,QAAQ;QACzB,QAAQ,GAAG,CAAC,2BAA2B,IAAI,MAAM;QACjD,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO;QAAqB;IACvE;IAEA,IAAI;QACF,QAAQ,GAAG,CAAC,uBAAuB,IAAI,IAAI;QAC3C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAI,IAAI;QAElD,8BAA8B;QAC9B,IAAI,CAAC,QAAQ,GAAG,CAAC,cAAc,EAAE;YAC/B,QAAQ,KAAK,CAAC;YACd,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,IAAI;gBAAO,OAAO;YAA0B;QAC5E;QAEA,QAAQ,GAAG,CAAC,0BAA0B,QAAQ,GAAG,CAAC,cAAc,EAAE,UAAU,GAAG,MAAM;QACrF,QAAQ,GAAG,CAAC;QAEZ,MAAM,OAAO,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACpC,MAAM;YACN,IAAI;gBAAC;aAAwB;YAC7B,SAAS,CAAC,uBAAuB,EAAE,MAAM;YACzC,UAAU;YACV,MAAM,CAAC;;wBAEW,EAAE,KAAK;yBACN,EAAE,MAAM;2BACN,EAAE,QAAQ;gCACL,EAAE,QAAQ;MACpC,CAAC;QACH;QAEA,QAAQ,GAAG,CAAC,gCAAgC;QAC5C,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,IAAI;YAAM;QAAK;IAC/C,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,qCAAqC;QACnD,QAAQ,KAAK,CAAC,kBAAkB,MAAM,KAAK;QAC3C,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO,MAAM,OAAO;QAAC;IAChE;AACF","debugId":null}}]
}